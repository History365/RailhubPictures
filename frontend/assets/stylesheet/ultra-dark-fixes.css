/**
 * Ultra Aggressive Dark Mode Fixes
 * This file contains extremely aggressive selectors to catch any remaining white elements
 * It should be loaded last in the stylesheet chain
 */

/* Target ALL elements with !important to enforce dark backgrounds */
[data-theme="dark"] * {
    background-color: inherit;
}

/* Create a full-page overlay in case any elements are still showing through */
[data-theme="dark"]::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: var(--background-color);
    z-index: -1000; /* Behind everything */
    pointer-events: none; /* Don't block interactions */
}

/* Fix white stripes in layout elements */
[data-theme="dark"] body > *,
[data-theme="dark"] section,
[data-theme="dark"] article,
[data-theme="dark"] aside,
[data-theme="dark"] main,
[data-theme="dark"] header,
[data-theme="dark"] footer,
[data-theme="dark"] div,
[data-theme="dark"] nav,
[data-theme="dark"] .container,
[data-theme="dark"] .wrapper,
[data-theme="dark"] .content,
[data-theme="dark"] .section {
    background-color: var(--background-color) !important;
}

/* Target specific elements by their position and styling */
[data-theme="dark"] [style*="width: 100%"],
[data-theme="dark"] [style*="width:100%"],
[data-theme="dark"] [style*="height: 100%"],
[data-theme="dark"] [style*="height:100%"],
[data-theme="dark"] [style*="display: flex"],
[data-theme="dark"] [style*="display:flex"],
[data-theme="dark"] [style*="display: grid"],
[data-theme="dark"] [style*="display:grid"] {
    background-color: var(--background-color) !important;
}

/* Target margin and padding that might create visual gaps */
[data-theme="dark"] [style*="margin"],
[data-theme="dark"] [style*="padding"] {
    background-color: inherit !important;
}

/* Final catch-all for absolutely any remaining white elements */
[data-theme="dark"] [style] {
    background-color: inherit !important;
    color: inherit !important;
}

/* Special handling for text elements to ensure proper contrast */
[data-theme="dark"] p,
[data-theme="dark"] h1, 
[data-theme="dark"] h2, 
[data-theme="dark"] h3, 
[data-theme="dark"] h4, 
[data-theme="dark"] h5, 
[data-theme="dark"] h6,
[data-theme="dark"] span,
[data-theme="dark"] label,
[data-theme="dark"] li {
    color: var(--text-color, #ffffff) !important;
}
